{"remainingRequest":"/Users/danieldanio/workspace/daniel-danio-student-code/Capstone/project-schedule-app-final-capstone/vue-gantt-elastic-master/node_modules/babel-loader/lib/index.js!/Users/danieldanio/workspace/daniel-danio-student-code/Capstone/project-schedule-app-final-capstone/vue-gantt-elastic-master/node_modules/quasar/src/directives/TouchPan.js","dependencies":[{"path":"/Users/danieldanio/workspace/daniel-danio-student-code/Capstone/project-schedule-app-final-capstone/vue-gantt-elastic-master/node_modules/quasar/src/directives/TouchPan.js","mtime":1664650529281},{"path":"/Users/danieldanio/workspace/daniel-danio-student-code/Capstone/project-schedule-app-final-capstone/vue-gantt-elastic-master/node_modules/cache-loader/dist/cjs.js","mtime":1664650533042},{"path":"/Users/danieldanio/workspace/daniel-danio-student-code/Capstone/project-schedule-app-final-capstone/vue-gantt-elastic-master/node_modules/babel-loader/lib/index.js","mtime":1664650533420}],"contextDependencies":[],"result":["import { position, leftClick, listenOpts, prevent, stop } from \"../utils/event.js\";\nimport { setObserver, removeObserver } from \"../utils/touch-observer.js\";\nimport { clearSelection } from \"../utils/selection.js\";\n\nfunction getDirection(mod) {\n  var none = mod.horizontal !== true && mod.vertical !== true,\n      dir = {\n    all: none === true || mod.horizontal === true && mod.vertical === true\n  };\n\n  if (mod.horizontal === true || none === true) {\n    dir.horizontal = true;\n  }\n\n  if (mod.vertical === true || none === true) {\n    dir.vertical = true;\n  }\n\n  return dir;\n}\n\nfunction processChanges(evt, ctx, isFinal) {\n  var pos = position(evt),\n      direction,\n      distX = pos.left - ctx.event.x,\n      distY = pos.top - ctx.event.y,\n      absDistX = Math.abs(distX),\n      absDistY = Math.abs(distY);\n\n  if (ctx.direction.horizontal && !ctx.direction.vertical) {\n    direction = distX < 0 ? 'left' : 'right';\n  } else if (!ctx.direction.horizontal && ctx.direction.vertical) {\n    direction = distY < 0 ? 'up' : 'down';\n  } else if (absDistX >= absDistY) {\n    direction = distX < 0 ? 'left' : 'right';\n  } else {\n    direction = distY < 0 ? 'up' : 'down';\n  }\n\n  return {\n    evt: evt,\n    position: pos,\n    direction: direction,\n    isFirst: ctx.event.isFirst,\n    isFinal: isFinal === true,\n    isMouse: ctx.event.mouse,\n    duration: new Date().getTime() - ctx.event.time,\n    distance: {\n      x: absDistX,\n      y: absDistY\n    },\n    offset: {\n      x: distX,\n      y: distY\n    },\n    delta: {\n      x: pos.left - ctx.event.lastX,\n      y: pos.top - ctx.event.lastY\n    }\n  };\n}\n\nfunction shouldTrigger(ctx, changes) {\n  if (ctx.direction.horizontal && ctx.direction.vertical) {\n    return true;\n  }\n\n  if (ctx.direction.horizontal && !ctx.direction.vertical) {\n    return Math.abs(changes.delta.x) > 0;\n  }\n\n  if (!ctx.direction.horizontal && ctx.direction.vertical) {\n    return Math.abs(changes.delta.y) > 0;\n  }\n}\n\nexport default {\n  name: 'touch-pan',\n  bind: function bind(el, binding) {\n    var mouse = binding.modifiers.mouse === true,\n        mouseEvtPassive = binding.modifiers.mouseMightPrevent !== true && binding.modifiers.mousePrevent !== true,\n        mouseEvtOpts = listenOpts.hasPassive === true ? {\n      passive: mouseEvtPassive,\n      capture: true\n    } : true,\n        touchEvtPassive = binding.modifiers.mightPrevent !== true && binding.modifiers.prevent !== true,\n        touchEvtOpts = listenOpts[touchEvtPassive === true ? 'passive' : 'notPassive'];\n\n    function handleEvent(evt, mouseEvent) {\n      if (mouse && mouseEvent) {\n        binding.modifiers.mouseStop && stop(evt);\n        binding.modifiers.mousePrevent && prevent(evt);\n      } else {\n        binding.modifiers.stop && stop(evt);\n        binding.modifiers.prevent && prevent(evt);\n      }\n    }\n\n    var ctx = {\n      handler: binding.value,\n      direction: getDirection(binding.modifiers),\n      mouseStart: function mouseStart(evt) {\n        if (leftClick(evt)) {\n          document.addEventListener('mousemove', ctx.move, mouseEvtOpts);\n          document.addEventListener('mouseup', ctx.mouseEnd, mouseEvtOpts);\n          ctx.start(evt, true);\n        }\n      },\n      mouseEnd: function mouseEnd(evt) {\n        document.removeEventListener('mousemove', ctx.move, mouseEvtOpts);\n        document.removeEventListener('mouseup', ctx.mouseEnd, mouseEvtOpts);\n        ctx.end(evt);\n      },\n      start: function start(evt, mouseEvent) {\n        removeObserver(ctx);\n        mouseEvent !== true && setObserver(el, evt, ctx);\n        var pos = position(evt);\n        ctx.event = {\n          x: pos.left,\n          y: pos.top,\n          time: new Date().getTime(),\n          mouse: mouseEvent === true,\n          detected: false,\n          abort: false,\n          isFirst: true,\n          isFinal: false,\n          lastX: pos.left,\n          lastY: pos.top\n        };\n      },\n      move: function move(evt) {\n        if (ctx.event === void 0 || ctx.event.abort === true) {\n          return;\n        }\n\n        if (ctx.event.detected === true) {\n          handleEvent(evt, ctx.event.mouse);\n          var changes = processChanges(evt, ctx, false);\n\n          if (shouldTrigger(ctx, changes)) {\n            ctx.handler(changes);\n            ctx.event.lastX = changes.position.left;\n            ctx.event.lastY = changes.position.top;\n            ctx.event.isFirst = false;\n          }\n\n          return;\n        }\n\n        var pos = position(evt),\n            distX = Math.abs(pos.left - ctx.event.x),\n            distY = Math.abs(pos.top - ctx.event.y);\n\n        if (distX === distY) {\n          return;\n        }\n\n        ctx.event.detected = true;\n\n        if (ctx.direction.all === false && (ctx.event.mouse === false || binding.modifiers.mouseAllDir !== true)) {\n          ctx.event.abort = ctx.direction.vertical ? distX > distY : distX < distY;\n        }\n\n        if (ctx.event.abort !== true) {\n          document.documentElement.style.cursor = 'grabbing';\n          document.body.classList.add('no-pointer-events');\n          document.body.classList.add('non-selectable');\n          clearSelection();\n        }\n\n        ctx.move(evt);\n      },\n      end: function end(evt) {\n        if (ctx.event === void 0) {\n          return;\n        }\n\n        ctx.event.mouse !== true && removeObserver(ctx);\n        document.documentElement.style.cursor = '';\n        document.body.classList.remove('no-pointer-events');\n        document.body.classList.remove('non-selectable');\n\n        if (ctx.event.abort !== true && ctx.event.detected === true && ctx.event.isFirst !== true) {\n          handleEvent(evt, ctx.event.mouse);\n          ctx.handler(processChanges(evt, ctx, true));\n        }\n\n        ctx.event = void 0;\n      }\n    };\n\n    if (el.__qtouchpan) {\n      el.__qtouchpan_old = el.__qtouchpan;\n    }\n\n    el.__qtouchpan = ctx;\n\n    if (mouse === true) {\n      el.addEventListener('mousedown', ctx.mouseStart, mouseEvtOpts);\n    }\n\n    el.addEventListener('touchstart', ctx.start, touchEvtOpts);\n    el.addEventListener('touchmove', ctx.move, touchEvtOpts);\n    el.addEventListener('touchcancel', ctx.end);\n    el.addEventListener('touchend', ctx.end);\n  },\n  update: function update(el, _ref) {\n    var oldValue = _ref.oldValue,\n        value = _ref.value,\n        modifiers = _ref.modifiers;\n    var ctx = el.__qtouchpan;\n\n    if (oldValue !== value) {\n      ctx.handler = value;\n    }\n\n    if (modifiers.horizontal !== ctx.direction.horizontal || modifiers.vertical !== ctx.direction.vertical) {\n      ctx.direction = getDirection(modifiers);\n    }\n  },\n  unbind: function unbind(el, binding) {\n    var ctx = el.__qtouchpan_old || el.__qtouchpan;\n\n    if (ctx !== void 0) {\n      removeObserver(ctx);\n      document.documentElement.style.cursor = '';\n      document.body.classList.remove('no-pointer-events');\n      document.body.classList.remove('non-selectable');\n      var mouse = binding.modifiers.mouse === true,\n          mouseEvtPassive = binding.modifiers.mouseMightPrevent !== true && binding.modifiers.mousePrevent !== true,\n          mouseEvtOpts = listenOpts.hasPassive === true ? {\n        passive: mouseEvtPassive,\n        capture: true\n      } : true,\n          touchEvtPassive = binding.modifiers.mightPrevent !== true && binding.modifiers.prevent !== true,\n          touchEvtOpts = listenOpts[touchEvtPassive === true ? 'passive' : 'notPassive'];\n\n      if (mouse === true) {\n        el.removeEventListener('mousedown', ctx.mouseStart, mouseEvtOpts);\n        document.removeEventListener('mousemove', ctx.move, mouseEvtOpts);\n        document.removeEventListener('mouseup', ctx.mouseEnd, mouseEvtOpts);\n      }\n\n      el.removeEventListener('touchstart', ctx.start, touchEvtOpts);\n      el.removeEventListener('touchmove', ctx.move, touchEvtOpts);\n      el.removeEventListener('touchcancel', ctx.end);\n      el.removeEventListener('touchend', ctx.end);\n      delete el[el.__qtouchpan_old ? '__qtouchpan_old' : '__qtouchpan'];\n    }\n  }\n};",{"version":3,"sources":["/Users/danieldanio/workspace/daniel-danio-student-code/Capstone/project-schedule-app-final-capstone/vue-gantt-elastic-master/node_modules/quasar/src/directives/TouchPan.js"],"names":["position","leftClick","listenOpts","prevent","stop","setObserver","removeObserver","clearSelection","getDirection","mod","none","horizontal","vertical","dir","all","processChanges","evt","ctx","isFinal","pos","direction","distX","left","event","x","distY","top","y","absDistX","Math","abs","absDistY","isFirst","isMouse","mouse","duration","Date","getTime","time","distance","offset","delta","lastX","lastY","shouldTrigger","changes","name","bind","el","binding","modifiers","mouseEvtPassive","mouseMightPrevent","mousePrevent","mouseEvtOpts","hasPassive","passive","capture","touchEvtPassive","mightPrevent","touchEvtOpts","handleEvent","mouseEvent","mouseStop","handler","value","mouseStart","document","addEventListener","move","mouseEnd","start","removeEventListener","end","detected","abort","mouseAllDir","documentElement","style","cursor","body","classList","add","remove","__qtouchpan","__qtouchpan_old","update","oldValue","unbind"],"mappings":"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","sourcesContent":["import { position, leftClick, listenOpts, prevent, stop } from '../utils/event.js'\nimport { setObserver, removeObserver } from '../utils/touch-observer.js'\nimport { clearSelection } from '../utils/selection.js'\n\nfunction getDirection (mod) {\n  const\n    none = mod.horizontal !== true && mod.vertical !== true,\n    dir = {\n      all: none === true || (mod.horizontal === true && mod.vertical === true)\n    }\n\n  if (mod.horizontal === true || none === true) {\n    dir.horizontal = true\n  }\n  if (mod.vertical === true || none === true) {\n    dir.vertical = true\n  }\n\n  return dir\n}\n\nfunction processChanges (evt, ctx, isFinal) {\n  let\n    pos = position(evt),\n    direction,\n    distX = pos.left - ctx.event.x,\n    distY = pos.top - ctx.event.y,\n    absDistX = Math.abs(distX),\n    absDistY = Math.abs(distY)\n\n  if (ctx.direction.horizontal && !ctx.direction.vertical) {\n    direction = distX < 0 ? 'left' : 'right'\n  }\n  else if (!ctx.direction.horizontal && ctx.direction.vertical) {\n    direction = distY < 0 ? 'up' : 'down'\n  }\n  else if (absDistX >= absDistY) {\n    direction = distX < 0 ? 'left' : 'right'\n  }\n  else {\n    direction = distY < 0 ? 'up' : 'down'\n  }\n\n  return {\n    evt,\n    position: pos,\n    direction,\n    isFirst: ctx.event.isFirst,\n    isFinal: isFinal === true,\n    isMouse: ctx.event.mouse,\n    duration: new Date().getTime() - ctx.event.time,\n    distance: {\n      x: absDistX,\n      y: absDistY\n    },\n    offset: {\n      x: distX,\n      y: distY\n    },\n    delta: {\n      x: pos.left - ctx.event.lastX,\n      y: pos.top - ctx.event.lastY\n    }\n  }\n}\n\nfunction shouldTrigger (ctx, changes) {\n  if (ctx.direction.horizontal && ctx.direction.vertical) {\n    return true\n  }\n  if (ctx.direction.horizontal && !ctx.direction.vertical) {\n    return Math.abs(changes.delta.x) > 0\n  }\n  if (!ctx.direction.horizontal && ctx.direction.vertical) {\n    return Math.abs(changes.delta.y) > 0\n  }\n}\n\nexport default {\n  name: 'touch-pan',\n\n  bind (el, binding) {\n    const\n      mouse = binding.modifiers.mouse === true,\n      mouseEvtPassive = binding.modifiers.mouseMightPrevent !== true && binding.modifiers.mousePrevent !== true,\n      mouseEvtOpts = listenOpts.hasPassive === true ? { passive: mouseEvtPassive, capture: true } : true,\n      touchEvtPassive = binding.modifiers.mightPrevent !== true && binding.modifiers.prevent !== true,\n      touchEvtOpts = listenOpts[touchEvtPassive === true ? 'passive' : 'notPassive']\n\n    function handleEvent (evt, mouseEvent) {\n      if (mouse && mouseEvent) {\n        binding.modifiers.mouseStop && stop(evt)\n        binding.modifiers.mousePrevent && prevent(evt)\n      }\n      else {\n        binding.modifiers.stop && stop(evt)\n        binding.modifiers.prevent && prevent(evt)\n      }\n    }\n\n    const ctx = {\n      handler: binding.value,\n      direction: getDirection(binding.modifiers),\n\n      mouseStart (evt) {\n        if (leftClick(evt)) {\n          document.addEventListener('mousemove', ctx.move, mouseEvtOpts)\n          document.addEventListener('mouseup', ctx.mouseEnd, mouseEvtOpts)\n          ctx.start(evt, true)\n        }\n      },\n\n      mouseEnd (evt) {\n        document.removeEventListener('mousemove', ctx.move, mouseEvtOpts)\n        document.removeEventListener('mouseup', ctx.mouseEnd, mouseEvtOpts)\n        ctx.end(evt)\n      },\n\n      start (evt, mouseEvent) {\n        removeObserver(ctx)\n        mouseEvent !== true && setObserver(el, evt, ctx)\n\n        const pos = position(evt)\n\n        ctx.event = {\n          x: pos.left,\n          y: pos.top,\n          time: new Date().getTime(),\n          mouse: mouseEvent === true,\n          detected: false,\n          abort: false,\n          isFirst: true,\n          isFinal: false,\n          lastX: pos.left,\n          lastY: pos.top\n        }\n      },\n\n      move (evt) {\n        if (ctx.event === void 0 || ctx.event.abort === true) {\n          return\n        }\n\n        if (ctx.event.detected === true) {\n          handleEvent(evt, ctx.event.mouse)\n\n          const changes = processChanges(evt, ctx, false)\n          if (shouldTrigger(ctx, changes)) {\n            ctx.handler(changes)\n            ctx.event.lastX = changes.position.left\n            ctx.event.lastY = changes.position.top\n            ctx.event.isFirst = false\n          }\n\n          return\n        }\n\n        const\n          pos = position(evt),\n          distX = Math.abs(pos.left - ctx.event.x),\n          distY = Math.abs(pos.top - ctx.event.y)\n\n        if (distX === distY) {\n          return\n        }\n\n        ctx.event.detected = true\n\n        if (ctx.direction.all === false && (ctx.event.mouse === false || binding.modifiers.mouseAllDir !== true)) {\n          ctx.event.abort = ctx.direction.vertical\n            ? distX > distY\n            : distX < distY\n        }\n\n        if (ctx.event.abort !== true) {\n          document.documentElement.style.cursor = 'grabbing'\n          document.body.classList.add('no-pointer-events')\n          document.body.classList.add('non-selectable')\n          clearSelection()\n        }\n\n        ctx.move(evt)\n      },\n\n      end (evt) {\n        if (ctx.event === void 0) {\n          return\n        }\n\n        ctx.event.mouse !== true && removeObserver(ctx)\n\n        document.documentElement.style.cursor = ''\n        document.body.classList.remove('no-pointer-events')\n        document.body.classList.remove('non-selectable')\n\n        if (ctx.event.abort !== true && ctx.event.detected === true && ctx.event.isFirst !== true) {\n          handleEvent(evt, ctx.event.mouse)\n          ctx.handler(processChanges(evt, ctx, true))\n        }\n\n        ctx.event = void 0\n      }\n    }\n\n    if (el.__qtouchpan) {\n      el.__qtouchpan_old = el.__qtouchpan\n    }\n\n    el.__qtouchpan = ctx\n\n    if (mouse === true) {\n      el.addEventListener('mousedown', ctx.mouseStart, mouseEvtOpts)\n    }\n    el.addEventListener('touchstart', ctx.start, touchEvtOpts)\n    el.addEventListener('touchmove', ctx.move, touchEvtOpts)\n    el.addEventListener('touchcancel', ctx.end)\n    el.addEventListener('touchend', ctx.end)\n  },\n\n  update (el, { oldValue, value, modifiers }) {\n    const ctx = el.__qtouchpan\n\n    if (oldValue !== value) {\n      ctx.handler = value\n    }\n\n    if (\n      (modifiers.horizontal !== ctx.direction.horizontal) ||\n      (modifiers.vertical !== ctx.direction.vertical)\n    ) {\n      ctx.direction = getDirection(modifiers)\n    }\n  },\n\n  unbind (el, binding) {\n    let ctx = el.__qtouchpan_old || el.__qtouchpan\n    if (ctx !== void 0) {\n      removeObserver(ctx)\n\n      document.documentElement.style.cursor = ''\n      document.body.classList.remove('no-pointer-events')\n      document.body.classList.remove('non-selectable')\n\n      const\n        mouse = binding.modifiers.mouse === true,\n        mouseEvtPassive = binding.modifiers.mouseMightPrevent !== true && binding.modifiers.mousePrevent !== true,\n        mouseEvtOpts = listenOpts.hasPassive === true ? { passive: mouseEvtPassive, capture: true } : true,\n        touchEvtPassive = binding.modifiers.mightPrevent !== true && binding.modifiers.prevent !== true,\n        touchEvtOpts = listenOpts[touchEvtPassive === true ? 'passive' : 'notPassive']\n\n      if (mouse === true) {\n        el.removeEventListener('mousedown', ctx.mouseStart, mouseEvtOpts)\n        document.removeEventListener('mousemove', ctx.move, mouseEvtOpts)\n        document.removeEventListener('mouseup', ctx.mouseEnd, mouseEvtOpts)\n      }\n      el.removeEventListener('touchstart', ctx.start, touchEvtOpts)\n      el.removeEventListener('touchmove', ctx.move, touchEvtOpts)\n      el.removeEventListener('touchcancel', ctx.end)\n      el.removeEventListener('touchend', ctx.end)\n\n      delete el[el.__qtouchpan_old ? '__qtouchpan_old' : '__qtouchpan']\n    }\n  }\n}\n"]}]}